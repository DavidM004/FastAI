<div class="relative" x-data="{ isOpen: false }">
  <!-- Trigger Button -->
  <button
    @click="isOpen = true"
    class="flex items-center gap-2 px-4 py-2 bg-purple-50 rounded-lg text-purple-600 hover:bg-purple-100 transition-colors"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
      <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
      <path d="M2 2l7.586 7.586"></path>
      <circle cx="11" cy="11" r="2"></circle>
    </svg>
    <div class="hidden lg:block">Нарисуй</div>
  </button>

  <!-- Modal Backdrop -->
  <div
    x-show="isOpen"
    x-cloak
    @click="isOpen = false"
    class="fixed inset-0 bg-black bg-opacity-50 z-40"
  >
  </div>

  <!-- Modal -->
  <div
    x-show="isOpen"
    @click.away="isOpen = false"
    x-cloak
    class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-xl shadow-xl z-50 p-6"
  >
    <div class="space-y-6">
      <!-- AI Model Selection -->
      <div>
        <label class="block text-sm text-gray-600 mb-2"
          >Выберите нейросеть</label
        >
        <button
          class="flex items-center justify-between w-full px-3 py-2 border rounded-lg text-gray-900 hover:bg-gray-50"
        >
          <div class="flex items-center gap-2">
            <svg
              class="w-5 h-5 text-gray-600"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
            FLUX.1 Schnell
          </div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </button>
      </div>

      <!-- Prompt Input -->
      <div>
        <label class="block text-sm text-gray-600 mb-2">Что нарисовать?</label>
        <textarea
          class="w-full px-3 py-2 border rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
          rows="4"
          placeholder="Например: коня в поле"></textarea>
      </div>

      <!-- Flux Options -->
      <div>
        <h3 class="text-gray-900 font-medium mb-4">Опции Flux</h3>

        <!-- Aspect Ratio -->
        <div class="space-y-3">
          <label class="block text-sm text-gray-600">Соотношение сторон</label>
          <div class="grid grid-cols-3 gap-2">
            <button
              class="p-3 border rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 group"
            >
              <div class="text-center">
                <div class="font-medium text-gray-900">1:1</div>
                <div class="text-xs text-gray-500">1024x1024</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">7:4</div>
                <div class="text-xs text-gray-500">1344x768</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">4:7</div>
                <div class="text-xs text-gray-500">768x1344</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">13:19</div>
                <div class="text-xs text-gray-500">832x1216</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">9:7</div>
                <div class="text-xs text-gray-500">1152x896</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">7:9</div>
                <div class="text-xs text-gray-500">896x1152</div>
              </div>
            </button>
          </div>
        </div>

        <!-- Number of Images -->
        <div class="mt-6 space-y-3">
          <label class="block text-sm text-gray-600">Количество картинок</label>
          <div class="grid grid-cols-2 gap-2">
            <button
              class="p-3 border rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
            >
              <div class="text-center">
                <div class="font-medium text-gray-900">1x</div>
                <div class="text-xs text-gray-500">900 слов за 1 картинку</div>
              </div>
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-50">
              <div class="text-center">
                <div class="font-medium text-gray-900">4x</div>
                <div class="text-xs text-gray-500">
                  3,600 слов за 4 картинки
                </div>
              </div>
            </button>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-3 pt-4">
        <button
          @click="isOpen = false"
          class="flex-1 px-4 py-2 border border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors"
        >
          Закрыть
        </button>
        <button
          class="flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors"
        >
          Нарисовать
        </button>
      </div>
    </div>
  </div>
</div>
